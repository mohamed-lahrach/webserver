worker_processes auto;
error_log /dev/stderr notice;
pid /tmp/nginx.pid;

events {
    worker_connections 1024;
}

http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    access_log /dev/stdout combined;
    sendfile on;
    keepalive_timeout 65;

    server {
        listen 0.0.0.0:80;
        server_name _;

        client_max_body_size 50m;

    error_page 404 /404.html;

        location / {
            root /var/www;  
            autoindex on;
        }

    location /dir
    {
        # Use the same root mounted into the container
        root /var/www;
        autoindex on;
    }
        location /images {
        # Allow only GET (others will be denied)
        limit_except GET { deny all; }
        autoindex off;
    }

    location /upload {
        # Allow only POST (others will be denied)
        limit_except POST { deny all; }
        # Use the container-mounted web root; the directory may 404 if it doesn't exist
        root /var/www;
    }

    location /redirect-test {
        return 302 https://example.com;
    }

    location /temp-redirect {
        return 302 /new-location;
    }
    location /permanent-redirect {
        return 301 /moved-permanently;
    }

    location /google {
        return 302 https://www.google.com;
    }

    location /home {
        return 302 /;
    }
    }
}