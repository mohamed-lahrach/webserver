<!DOCTYPE html>
<html>
<head>
    <title>Simple Webserver Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        button { padding: 10px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; }
        input, textarea { padding: 8px; margin: 10px 0; width: 300px; }
        .result { padding: 10px; margin: 10px 0; border: 1px solid #ccc; background: #f9f9f9; }
    </style>
</head>
<body>
    <h1>Webserver Test</h1>

    <!-- GET Test -->
    <h2>GET Test</h2>
    <input type="text" id="getUrl" placeholder="URL to GET" value="/">
    <button onclick="testGet()">Test GET</button>
    <div id="get-result" class="result" style="display:none;"></div>

    <!-- POST Test -->
    <h2>POST Test</h2>
    <div class="upload-form">
        <h2>File Upload Form</h2>
        <form action="/upload" method="post" enctype="multipart/form-data">
            <div class="file-input">
                <label for="file">Choose a file:</label>
                <input type="file" id="file" name="file" accept=".txt, .pdf, .doc, .docx, .jpg, .mp4" required>
            </div>
            <button type="submit" class="submit-btn">Upload File</button>
        </form>
    </div>
    <!-- DELETE Test -->
    <h2>DELETE Test</h2>
    <input type="text" id="deleteUrl" placeholder="URL to DELETE" value="/upload/test.txt">
    <button onclick="testDelete()">Delete</button>
    <div id="delete-result" class="result" style="display:none;"></div>

    <script>
        function testGet() {
            const url = document.getElementById('getUrl').value;
            document.getElementById('get-result').style.display = 'block';
            document.getElementById('get-result').innerHTML = 'Testing GET...';
            
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('get-result').innerHTML = '<strong>GET Success:</strong><br><pre>' + data + '</pre>';
                })
                .catch(error => {
                    document.getElementById('get-result').innerHTML = 'GET Error: ' + error;
                });
        }

        function testPost() {
            const file = document.getElementById('fileInput').files[0];
            if (!file) {
                alert('Please select a file');
                return;
            }

            document.getElementById('post-result').style.display = 'block';
            document.getElementById('post-result').innerHTML = 'Uploading...';

            const formData = new FormData();
            formData.append('file', file);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('post-result').innerHTML = 'Upload Success: ' + data;
            })
            .catch(error => {
                document.getElementById('post-result').innerHTML = 'Upload Error: ' + error;
            });
        }

        function testDelete() {
            const url = document.getElementById('deleteUrl').value;
            if (!url) {
                alert('Please enter URL');
                return;
            }

            document.getElementById('delete-result').style.display = 'block';
            document.getElementById('delete-result').innerHTML = 'Deleting...';

            fetch(url, {
                method: 'DELETE'
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('delete-result').innerHTML = 'Delete Success: ' + data;
            })
            .catch(error => {
                document.getElementById('delete-result').innerHTML = 'Delete Error: ' + error;
            });
        }
    </script>
</body>
</html>_