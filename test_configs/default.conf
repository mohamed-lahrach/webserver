# this is a comment

server {
    listen 127.0.0.1:2080;
    root /var/www/html;
    # server_name example.com www.example.com;
    client_max_body_size 10M;
    index index.html index.htm;
    error_page 404 /404.html;
    error_page 404 500 502 /error.html;

    autoindex on;

     location / {
        allowed_methods GET POST PUT DELETE HEAD OPTIONS PATCH;
        root /var/www/html/main;
        index index.html;
    }

    location /images {
        allowed_methods GET;
        autoindex off;
    }

    location /upload {
        allowed_methods POST;
        root /var/www/html/uploads;
    }
}

server {
    listen 0.0.0.0:80;
    root /var/www/static;
    client_max_body_size 5M;
    index home.html default.html;
    error_page 403 404 /errors/not_found.html;
    error_page 500 501 502 503 /errors/server_error.html;

    autoindex off;

    location /api {
        allowed_methods GET POST PUT DELETE;
        root /var/www/api;
        autoindex on;
    }

    location /static {
        allowed_methods GET HEAD;
        root /var/www/static/assets;
        index static.html;
        autoindex on;
    }

    location /downloads {
        allowed_methods GET;
        root /var/www/downloads;
        autoindex on;
    }

    location /admin {
        allowed_methods GET POST DELETE;
        root /var/www/admin;
        index admin.html dashboard.html;
        autoindex off;
    }
}

server {
    listen 192.168.1.100:443;
    root /var/www/secure;
    client_max_body_size 50M;
    index secure.html;
    error_page 401 /auth/unauthorized.html;
    error_page 403 /auth/forbidden.html;

    autoindex off;

    location /secure {
        allowed_methods GET POST;
        root /var/www/secure/private;
        autoindex off;
    }

    location /files {
        allowed_methods GET POST PUT DELETE;
        root /var/www/secure/files;
        index files.html browse.html;
        autoindex on;
    }
}